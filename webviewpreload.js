(()=>{"use strict";var e={298:e=>{e.exports=require("electron")}},i={};function n(r){var t=i[r];if(void 0!==t)return t.exports;var o=i[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{const e=n(298),i="__WebViewBridgeChannel__";!function(n){if(n.WebViewBridge)return;const r=n.document,t={send:n=>{e.ipcRenderer.sendToHost(i,n)},onMessage:void 0};e.ipcRenderer.on(i,((e,i)=>{i&&t.onMessage&&function(e,i){"function"==typeof e&&e(i)}(t.onMessage,i)})),n.WebViewBridge=t;const o=r.createEvent("Event");o.initEvent("WebViewBridge",!0,!0),r.dispatchEvent(o),n.navigator.mediaDevices.getDisplayMedia=async i=>{const n=await e.ipcRenderer.invoke("calling:get-desktop-capturer-sources",{types:["screen"]});if(n.length>0){let e=0;const r=i.video;(null==r?void 0:r.advanced)&&r.advanced.length>0&&(e=parseInt(r.advanced[0].deviceId,10));const t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n[e].id}}},o={video:!1,audio:!0},a=await navigator.mediaDevices.getUserMedia(o),d=await navigator.mediaDevices.getUserMedia(t);return new MediaStream([...d.getVideoTracks(),...a.getAudioTracks()])}throw new Error("No screen source found")}}(window)})()})();